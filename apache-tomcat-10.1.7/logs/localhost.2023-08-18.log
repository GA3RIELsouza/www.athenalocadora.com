18-Aug-2023 07:35:42.587 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: contextInitialized()
18-Aug-2023 07:35:42.587 INFO [main] org.apache.catalina.core.ApplicationContext.log SessionListener: contextInitialized()
18-Aug-2023 07:35:42.588 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: attributeAdded('StockTicker', 'async.Stockticker@4d6ccc97')
18-Aug-2023 07:35:45.941 SEVERE [http-nio-8080-exec-10] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [jsp] in context with path [/www.athenalocadora.com] threw exception [An exception occurred processing [index.jsp] at line [29]

26:                     if(atual.getName().equals("sessionId")) {
27:                         usu.setSessionId(atual.getValue());
28:                         
29:                         if(usu.checkSessionId()) {
30:                             response.sendRedirect("inicio.jsp");
31:                         }
32:                     }


Stacktrace:] with root cause
	java.lang.NullPointerException: Cannot invoke "java.sql.Connection.prepareStatement(String)" because "con" is null
		at classes.Usuario.checkSessionId(Usuario.java:85)
		at org.apache.jsp.index_jsp._jspService(index_jsp.java:152)
		at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
		at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:631)
		at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:456)
		at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)
		at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)
		at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:631)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:676)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
		at java.base/java.lang.Thread.run(Thread.java:833)
18-Aug-2023 12:12:38.390 INFO [main] org.apache.catalina.core.ApplicationContext.log SessionListener: contextDestroyed()
18-Aug-2023 12:12:38.390 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: contextDestroyed()
18-Aug-2023 12:19:19.440 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: contextInitialized()
18-Aug-2023 12:19:19.440 INFO [main] org.apache.catalina.core.ApplicationContext.log SessionListener: contextInitialized()
18-Aug-2023 12:19:19.442 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: attributeAdded('StockTicker', 'async.Stockticker@3119cf6f')
18-Aug-2023 14:14:53.367 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: contextInitialized()
18-Aug-2023 14:14:53.367 INFO [main] org.apache.catalina.core.ApplicationContext.log SessionListener: contextInitialized()
18-Aug-2023 14:14:53.371 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: attributeAdded('StockTicker', 'async.Stockticker@31e3250d')
18-Aug-2023 14:15:20.589 SEVERE [http-nio-8080-exec-9] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [jsp] in context with path [/www.athenalocadora.com] threw exception [An exception occurred processing [/login.jsp] at line [18]

15:         usu.setLogin(vLogin);
16:         usu.setSenha(vSenha);
17: 
18:         if (usu.checkLogin()){
19:             String sessionString = (vLogin + "Â§" + vSenha + "Â§" + LocalDateTime.now());
20:             Cookie loginCookie   = new Cookie("sessionId", sessionString);
21: 


Stacktrace:] with root cause
	java.lang.NullPointerException: Cannot invoke "java.sql.Connection.prepareStatement(String)" because "con" is null
		at classes.Usuario.checkLogin(Usuario.java:117)
		at org.apache.jsp.login_jsp._jspService(login_jsp.java:145)
		at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
		at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:631)
		at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:456)
		at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)
		at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)
		at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:631)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:676)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
		at java.base/java.lang.Thread.run(Thread.java:832)
18-Aug-2023 15:03:21.746 INFO [main] org.apache.catalina.core.ApplicationContext.log SessionListener: contextDestroyed()
18-Aug-2023 15:03:21.746 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: contextDestroyed()
